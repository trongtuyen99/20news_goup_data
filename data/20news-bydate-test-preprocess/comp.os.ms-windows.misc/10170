from yuki is tokyo ac jp ito takayuki subject re what bmp format mean organ depart infom scienc faculti scienc univers of tokyo japan line in repli to robertsa unix tcd ie messag tue apr gmt nntp post host tje is tokyo ac jp in articl robertsa unix tcd ie robertsa unix tcd ie andrew robert write what exactli window bitmap format look like mean is the data store width height no colour bitmap data couldn find anyth th user manual refer materi which would give inform from thoma sunshin kodak com thoma kinsman newsgroup comp os ms window programm misc alt binari pictur util subject dib bmp creation guid request keyword dib bmp bitmap file format messag id dec kodak kodak com date dec gmt sender news kodak kodak com organ precambiran electron rochest ny line xref cradl titech comp os ms window programm misc guid to creation of dib imag thoma kinsman precambrian electron falstaff rd rochest ny thomask kodak com copyright march abstract the format imag creat use ms window applic is document in the ms window programm refer guid thi guid intend clearifi some word of specif put forth recommend among variou altern pleas send updat correct suggest revis to me pleas thank write time by keep name document thank your respect thi document copyright thoma kinsman if desir postscript version of thi document is avail thi inform free you get pay for don sue wrong overview the dib imag file format intend devic independ bitmap file format what microsoft mean devic independ unclear to me four pixel resolut support bit bit bit bit pixel these imag intend use do ibm littl endian system if you creat anoth architectur byte swap short long integ valu by convent dib imag end extens bmp thi becaus march super set earlier bitmap imag file consequ you sometim hear dib file refer bmp file sinc dib imag file super set three flavor dib imag do dib imag these recommend convent the form describ creat they intend for applic run ms window do environ os dib imag my understand the flavor dib imag use present manag old style bitmap imag march differ between flavor the do dib imag consist of file header identifi file dib file thi header also give total size imag file offset imag data imag header which specifi the imag attribut an option palett color use imag if exist may contain entri each entri window rgbquad structur the imag data itself the os dib imag consist of the file header identifi file as dib file thi header also give total size the imag file offset imag data imag header which specifi the imag attribut an option palett color use imag again thi exist it may contain entri each entri window rgbtripl structur the imag data itself the old style imag bitmap consist of either which header type determin first long integ dword valu an option color palett thi palett may compos of either window rgbquad structur if the header wa window rgbtripl structur if the header the imag data itself creat dib imag file creat do dib imag file consist sever straight forward step the header need creat written file these header structur defin ms window window includ file palett inform need be store imag bit imag the five gener step are fill and the structur basic imag inform if imag bit bit bit imag creat the color palett rgbquad calcul total file size put inform in march bfsize field calcul offset imag data the start the file put bfoffbit field the write file the color palett imag data in order the follow section describ structur term microsoft type defin keyword the follow tabl describ keyword those familiar microsoft type defin keyword microsoft typedef mean byte unsign charact word two byte unsign integ dword four byte unsign integ march the thi structur defin window as typedef struct word bftype dword bfsize word bfreserv word bfreserv dword bfoffbit the bftype field two ascii charact thi serv to identifi file as dib imag file on intel byte order machin ibm compat constant form in the quantiti intel system the bfsize field total size file for our purpos thi field equal to size plu size the plu number entri the color palett time the size rgbquad plu number byte imag data if the imag data written uncompress form valu be calcul ahead time otherwis field need fill in later both bfreserv bfreserv field alway set to zero the bfoffbit field set offset start imag data start file for purpos field set to size of the plu size the plu number entri color palett time size rgbquad thi work imag data written write color palett one exist march the thi structur defin window as typedef struct dword bisiz dword biwidth dword biheight word biplan word bibitcount dword bicompress dword bisizeimag dword bixpelspermet dword biypelspermet dword biclrus dword biclrimport the bisiz field set size structur itself when read imag file thi valu is use to determin imag contain the biwidth field width imag imag pixel the biheight field height imag imag line the biplan field alway set thi data written out one color plane the bibitcount field bit depth imag thi must either depend bit depth imag data the bicompress field tell imag data compress is compress dib imag support two form of run length encod howev never seen imag use it know yet how work set field zero long zero indic the data compress all subsequ field structur may set to zero requir of the interpret softwar abl to comput field necessari previou inform the field might want explicitli specifi might biclrus for bit and bit imag field indic the possibl color entri use imag contain biclrus color if use color bit imag may want save possibl palett entri gener set field zero march color palett each entri color palett is rgbquad structur the rgbquad structur defin window includ file as typedef struct tagrgbquad byte rgbblue byte rgbgreen byte rgbred byte rgbreserv rgbquad the rgbreserv field alway zero for color use the amount blue green red fill structur structur is written file valu zero rgbblue rgbgreen or rgbred field indic that that particular compon not contribut color composit valu in ani of these field indic compon contribut fulli color composit imag data there three surpris order imag data in dib imag file the creator format determin creativ and certainli wa within imag data line written pad next four byte quantiti so bit imag one pixel wide still write four byte everi imag line the number byte per line calcul as bytes_per_lin width_in_pix bit_depth or term field structur bytes_per_lin biwidth bibitcount when write imag data must write bottom line first the bottom line imag would look screen the first line imag data file for bit bit bit imag inform written as you would expect one bit imag are pad eight pixel byte four bit imag pad two pixel byte eight bit imag written one pixel per byte twenti four bit imag written three byte per pixel howev bit imag inform must be written the order blue green red while imag file format write data in march rgb order dib imag file write data out an bgr order summari thi provid enough inform to creat dib imag from applic such as scanner imag export routin if you find dib imag pleas pass inform on to me modifi document accordingli march thoma kinsman rochest ny thoma acadia kodak com practic random kind senseless act beauti anon ito takayuki yuki is tokyo ac jp senior depart infom scienc faculti scienc univers tokyo japan