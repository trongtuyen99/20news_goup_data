from sinclair dc glasgow ac uk duncan sinclair subject glasgow rx remot execut program part summari nice program remot xterm keyword perl remot execut organ glasgow univers comput scienc dept line post week back got back error messag pnew dev null permiss deni yep dev null mode arrghhh with renew interest set display variabl etc thought would post contribut thi perl script solut it tri intellig about what abl type rx host domain etc and get xterm run host domain etc difficult stuff taken care of in theori program everyth ever want do when want run remot command background it doesn even need program tri rx big machin make for instanc background make remot big machin for detail full list featur read readm file about line below all comment welcom duncan bin sh thi shell archiv remov anyth line unpack save file type sh file to overwrit exist file type sh file you also feed standard input via unshar type sh file if archiv complet you see follow messag end end archiv of content readm imakefil manifest makefil rx man rx pl wrap sinclair dc gla ac uk thu apr path bin usr bin usr ucb export path if test readm echo shar will clobber exist file readm els echo shar extract readm charact sed readm end_of_fil glasgow rx remot execut program version xcopyright duncan sinclair sinclair dc gla ac uk xtrivial instal there imakefil make even trivial xthe perl script need customis instal just xedit rx pl file read comment onc done xthi xmkmf make instal instal man xfeatur doe right thing off site remot execut includ set display includ domain name pass magic cooki xhost stuff allow differ remot user name rx user host smart quot argument make pass wild card easi custom command execut link remac get remot emac command automat xterm option name xterm accord hostnam turn login shell default command xterm propag ish env variabl remot session user may extend list variabl pass special handl bourn shell user tri remot execut directori local that is propag pwd intellig manner log error file overal intellig tm make reason decis what tri do tri do right thing written perl portabl hackabl xfor info read man page sourc end_of_fil if test ne wc readm then echo shar readm unpack wrong size fi end readm fi if test imakefil echo shar will clobber exist file imakefil els echo shar extract imakefil charact sed imakefil end_of_fil glasgow rx imakefil program rx xall program xinstal safe rx pl rx bindir xinstallmanpag rx mandir xinstal rm bindir rxterm ln bindir rx bindir rxterm xsafe grep debug rx pl fals xshar safe makekit perl pi sinclair dc gla ac uk sinclair dc gla ac uk part end_of_fil if test ne wc imakefil then echo shar imakefil unpack wrong size fi end imakefil fi if test manifest echo shar will clobber exist file manifest els echo shar extract manifest charact sed manifest end_of_fil file name archiv descript readm read first imakefil manifest thi ship list makefil rx man rx pl end_of_fil if test ne wc manifest then echo shar manifest unpack wrong size fi end manifest fi if test makefil echo shar will clobber exist file makefil els echo shar extract makefil charact sed makefil end_of_fil makefil gener imak edit xconsortium imak rw exp the cpp use machin replac newlin multipl tab and space macro expans singl space imak tri compens thi alway success makefil gener imak tmpl tmp iif xconsortium imak tmpl rw exp platform specif paramet may set appropri vendor cf configur file site specif paramet set file site def full rebuild recommend paramet chang if preprocessor defin uniqu symbol need set bootstrapcflag rebuild imak usual do make world first time site specif configur paramet need come befor platform specif paramet edit site def chang site xconsortium site def rw exp platform specif configur paramet edit sun cf chang platform xconsortium sun cf rw exp oper system suno xconsortium sunlib rule rw exp site specif configur paramet go after platform specif paramet edit site def chang site xconsortium site def rw exp shell bin sh top current_dir ar ar cq bootstrapcflag cc gcc fpcc struct return as as compress compress cpp lib cpp std_cpp_defin preprocesscmd gcc fpcc struct return std_cpp_defin instal instal ld ld lint lint lintlibflag lintopt axz ln ln make make mv mv cp cp ranlib ranlib ranlibinstflag rm rm troff psroff msmacro ms tbl tbl eqn eqn std_includ std_cpp_defin std_defin extra_librari tag ctag sharedcodedef dsharedcod shlibdef dsunshlib proto_defin instpgmflag instbinflag instuidflag instlibflag instincflag instmanflag instdatflag instkmemflag kmem projectroot usr top_includ incroot cdebugflag ccoption allinclud includ extra_includ top_includ std_includ alldefin allinclud std_defin extra_defin proto_defin defin cflag cdebugflag ccoption alldefin lintflag lintopt dlint alldefin ldlib sys_librari extra_librari ldoption cdebugflag ccoption local_ldflag usrlibdir ldcombineflag dependflag macrofil sun cf rm_cmd rm ckp ln bak bak core err emacs_ tag tag make log makeout imake_defin irulesrc configdir imake_cmd imak duseinstal irulesrc imake_defin iconfigfil irulesrc imak tmpl irulesrc imak rule irulesrc project tmpl irulesrc site def irulesrc macrofil window system build paramet xconsortium project tmpl rw exp window system make variabl need coordin rule pathsep usrlibdir usr lib bindir usr local bin incroot usr includ buildincroot top buildincdir buildincroot buildinctop incdir incroot admdir usr adm libdir usrlibdir configdir libdir config lintlibdir usrlibdir lint fontdir libdir font xinitdir libdir xinit xdmdir libdir xdm twmdir libdir twm manpath usr man mansourcepath manpath man mansuffix libmansuffix mandir mansourcepath mansuffix libmandir mansourcepath libmansuffix nlsdir libdir nl pexapidir libdir pex xapploaddir libdir app default fontcflag instappflag instdatflag imak imak depend makedepend rgb rgb fontc bdftopcf mkfontdir mkfontdir mkdirhier bin sh bindir mkdirhier configsrc top config docutilsrc top doc util clientsrc top client demosrc top demo libsrc top lib fontsrc top font includesrc top serversrc top server utilsrc top util scriptsrc utilsrc script examplesrc top exampl contribsrc top contrib docsrc top doc rgbsrc top rgb dependsrc utilsrc makedepend imakesrc configsrc xauthsrc libsrc xau xlibsrc libsrc xmusrc libsrc xmu toolkitsrc libsrc xt awidgetsrc libsrc xaw oldxlibsrc libsrc oldx xdmcplibsrc libsrc xdmcp bdftosnfsrc fontsrc bdftosnf bdftosnfsrc fontsrc client bdftosnf bdftopcfsrc fontsrc client bdftopcf mkfontdirsrc fontsrc client mkfontdir fslibsrc fontsrc lib fs fontserversrc fontsrc server extensionsrc top extens xilibsrc extensionsrc lib xinput pexlibsrc extensionsrc lib pexlib phigslibsrc extensionsrc lib pex xconsortium sunlib tmpl rw exp xshlibldflag assert pure text xpicflag fpic depextensionlib extensionlib lxext depxlib depextensionlib xlib extensionlib lx depxmulib usrlibdir libxmu sa soxmurev xmulibonli lxmu xmulib lxmu depoldxlib oldxlib loldx depxtoollib usrlibdir libxt sa soxtrev xtoollib lxt depxawlib usrlibdir libxaw sa soxawrev xawlib lxaw depxilib xilib lxi deppexlib pexlib lpex soxlibrev soxtrev soxawrev sooldxrev soxmurev soxextrev soxinputrev sopexrev depxauthlib usrlibdir libxau xauthlib lxau depxdmcplib usrlibdir libxdmcp xdmcplib lxdmcp depphigslib usrlibdir libphig phigslib lphig depxbsdlib usrlibdir libxbsd xbsdlib lxbsd lintlibdir llib lxext ln lintxlib lintlibdir llib lx ln lintxmu lintlibdir llib lxmu ln lintxtool lintlibdir llib lxt ln lintxaw lintlibdir llib lxaw ln lintxi lintlibdir llib lxi ln lintpex lintlibdir llib lpex ln lintphig lintlibdir llib lphig ln deplib depxawlib depxmulib depxtoollib depxlib deplib deplib deplib deplib deplib deplib imak rule build librari program script data file rule xconsortium imak rule rw exp start imakefil glasgow rx imakefil program rx xall program xinstal safe xinstal rx pl if destdir bindir set els set mkdirhier destdir bindir fi instal instbinflag rx pl destdir bindir rx xinstal man rx man if destdir mandir set els set mkdirhier destdir mandir fi instal instmanflag rx man destdir mandir rx mansuffix xinstal rm bindir rxterm ln bindir rx bindir rxterm xsafe grep debug rx pl fals xshar safe makekit perl pi sinclair dc gla ac uk sinclair dc gla ac uk part common rule makefil edit xemptyrul xclean rm_cmd xmakefil if makefil set rm makefil bak mv makefil makefil bak els exit fi imake_cmd dtopdir top dcurdir current_dir xtag tag ch tag xw ch tag xsaber load alldefin src xosab load alldefin obj empti rule directori subdir edit xinstal echo instal current_dir done xinstal man echo instal man current_dir done xmakefil xinclud depend gener makedepend end_of_fil if test ne wc makefil then echo shar makefil unpack wrong size fi end makefil fi if test rx man echo shar will clobber exist file rx man els echo shar extract rx man charact sed rx man end_of_fil th rx march version sh name xrx rxterm remot command xterm anyth execut sh synopsi rx usernam host command br rxterm usernam host ir arg sh descript xthe rx xprogram connect specifi host xand execut specifi command xin background return immedi to allow execut xof program copi number environment variabl to xthe remot session if omit ir command xthen rx start xterm remot host the rxterm xvarient start remot xterm host also pass arg xto remot xterm argument pp xshell metacharact quot interpret local xmachin quot metacharact interpret remot xmachin pp xif name file which rx xi execut anyth rx rx xtake name strip lead command xto run remot host use ani command xparamet argument remot command pp xif rx xthink use xauth xbase authoris call off site host or xto differ usernam attempt copi author xkey remot account otherwis tri use xhost xto grant access remot host sh option tp bi usernam xuse usernam xa remot usernam instead local usernam in absenc xof option remot usernam local usernam sh environ xif set valu path display xenviron xapplresdir openwinhom ld_library_path xand xauthor export remot program unless the xremot usernam differ remot host off site which xcase display export case variabl name the xvariabl rxenv pp xthe display variabl tweak appropri contain qualifi xa hostnam need sh diagnost tp ib command recognis name rx xcannot decod name call under in case xit print warn messag continu normal tp rx usag rx usernam hostnam arg xthi mean could decod argument given it sh author xduncan sinclair sinclair dc glasgow ac uk juli br xorigin base program name the gwm xdistribut to distinguish rx program xwith similar name refer program the glasgow br rx sh see also xx rsh xterm xauth xhost gwm sh bug rx xmake number assumpt relationship the xlocal user remot one depend whether remot xhost onsit not whether altern usernam use xor not pp xin particular either local use shell remot xuse shell standard bourn shell sh xthen strang thing like happen especi xit one them pp xsometim quot get mess up pp xit easi fool smart in rx xto make believ someth true fail it pp xwhen rx xuse xhost xto grant access the xhost xcommand may fail silent pp xif rx xtri send larg command remot machin will xlike fail pars error csh if happen you xwill probabl reduc size export environ end_of_fil if test ne wc rx man then echo shar rx man unpack wrong size fi end rx man fi if test rx pl echo shar will clobber exist file rx pl els echo shar extract rx pl charact sed rx pl end_of_fil usr local bin perl config chang line point copi perl glasgow rx version copyright duncan sinclair sinclair dc gla ac uk last modifi earli april distribut limit per usual mit copyright remot execut program base script old version gwm to instal put rx bin make rxterm link it some configur necessari see config comment more less less like origin major hack work our my set up also partli re written work sh rather ksh mayb ll turn first zsh script look like turn perl script point big improv thi code tri intellig way work thi mean there ton implicit assumpt environ run in these assumpt valid machin use my environ at time tri make assumpt possibl remot machin here list tricki one that remot machin csh linux that rshell bin sh remot shell bin sh make same if remot shell sh path compat use csh etc pass cooki remot machin need be it know cooki eat it there must other whi use csh run remot command simpli doesn interact badli rsh hang wait file descriptor to close rather use zsh bash even perl not univers csh xrequir stat pl what call argv argv config chang variabl domain name pattern that match variat domain name you must includ lead dot if hostnam includ domain see code down mark xxx dom dc gla ac uk dompat dc gla sgow ac uk config chang valu bindir set variabl if think user smarter that xpath usr bin config make name remot shell command rsh rsh end config some variabl we ll doubt use sometim usag argv usag argv usernam hostnam arg rshell getpwuid bin sh home env home getpwuid xauth env xauthor home xauthor logf rx log stuff debug befor anyth els close stdin thi might stop rx hang due rsh weird xclose stdin flag xif argv eq shift user argv die usag luser user shift pick host host mach argv die usag xshift thing think remot machin mach dompat offsit mach where seem can trust dumb user set hostnam right hostnam env hostnam hostnam current host hostnam hostnam current host hostnam if hostnam includ domain comment next line xif offsit hostnam hostnam dom xxx now know are are differ diff hostnam ne mach what display go be danger heavi regular express follow thi need re written modular extend to support reset host unix requir display env display display dompat display unix hostnam diff display dom offsit env display display here come hard bit sh quot arg also quot quot to cope csh braindamag quot quot thu so arg foo bar get foo bar xforeach argv so do xprog argv eq rx last prog argv eq rxterm unshift argv ls diff unshift argv xterm ls mach last prog argv unshift argv last prog warn argv recognis name if noth els becom rxterm xif argv unshift argv ls diff unshift argv xterm ls mach some special consider side xif offsit user we want pass cooki here xauth thi go unsecur cooki appear number command line arg but least it ll work thi need enhanc ever fix code to set display return server cooki path path xpath xauth list display chop cooki cook split cooki shift cook unshift stuff xauth add display cook cook els yuk what crock hate thi system xhost mach dev null dev null diff we realli want pass valu display var display split env rxenv els some variabl wish export var display xenviron xfilesearchpath xapplresdir openwinhom ld_library_path manpath rxman bourn shell user xauthor split env rxenv braindead bourn shell need given path we would rather pass current path might work destin machin rather set user remot shell rsh fortun my program arch independ place and co problem local we check rshell might run anoth shell differ login shell know sound weird too common round here ve also includ ksh brain damag co can see easi way pass throught env env without late we have one person ksh login shell anyway oh yeah assum bourn shell here it bourn shell there much import it isnt bourn shell here better bourn shell there rshell sh push var path valid pwd routin xsub validate_pwd local pwdstat dotstat local pwd unless defin pwd return undef unless dotstat stat return undef unless pwdstat stat pwd return undef pwdstat st_dev dotstat st_dev pwdstat st_ino dotstat st_ino return undef pwd tri find nice valid pwd xpresent pwd env pwd foopwd pwd foopwd tmp_mnt export pwd validate_pwd foopwd validate_pwd pwd unless pwd chop pwd pwd foopwd pwd foopwd tmp_mnt export pwd validate_pwd foopwd validate_pwd pwd home pwd tri find somewher nice live side xunless offsit unshift stuff test pwd cd pwd start build full command xforeach var var val env var unshift stuff setenv var val some command side xunshift stuff set nonomatch use csh build remot command remot umask join stuff argv dev null logf remot remot remot build arg list exec comm rsh luser mach csh fc remot do it xif debug print comm els exec comm rsh return indic went over side that ok co aint go to wait around see happen xexit the end end_of_fil if test ne wc rx pl then echo shar rx pl unpack wrong size fi chmod rx pl end rx pl fi echo shar end archiv of cp dev null ark isdon miss for do test ark isdon then miss miss fi done if test miss then echo you archiv rm ark isdon els echo you still need unpack follow archiv echo miss fi end shell archiv exit duncan sinclair sinclair dc gla ac uk sinclair uk ac gla dc would real unix oper system pleas stand up